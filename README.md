# 业余无线电通联日志小程序

一个专为业余无线电爱好者设计的微信小程序，用于方便快捷地记录通联日志。

## 核心功能

### 1. 日期时间管理
- **日期 (DATE)**: 自动获取当前日期，支持手动选择
- **BJC 时间**: 自动填入当前本地时间，点击刷新按钮可更新，支持手动选择
- **UTC 时间**: 提交时自动填入当前 UTC 时间（若未填写），点击刷新按钮可更新，支持手动选择

### 2. 频率输入
- 单位：MHz
- 自动保留小数点后 3 位
- 输入验证，确保格式正确
- 支持联想输入，根据历史记录自动提示

### 3. 呼号输入
- 支持联想输入，根据历史记录自动提示
- 自动将输入的呼号转换为大写字母
- 保存呼号历史记录（最多保存 50 个）

### 4. 天气选择 (WX)
- 可选功能，非必填
- 提供多种天气图标快速选择：
  - ☀️ 晴天
  - ⛅ 多云
  - 🌧️ 雨天
  - ⛈️ 雷雨
  - ❄️ 雪天
  - 🌫️ 雾天
  - 💨 大风
  - 🌙 夜晚

### 5. 工作模式 (MODE)
- 快捷选择标签，支持的模式：
  - SSB (单边带)
  - CW (等幅电报)
  - FM (调频)
  - AM (调幅)
  - PSK31
  - FT8
  - RTTY
  - SSTV
  - ATV

### 6. 位置信息 (QTH)
- 输入位置信息
- 默认弹出中文输入键盘

### 7. 信号报告 (RST)
- **己方 RST**: 记录自己的信号报告
- **对方 RST**: 记录对方的信号报告
- R (可读性): 1-5，自动弹出数字键盘
- S (强度): 1-9，自动弹出数字键盘
- T (音调): 1-9，自动弹出数字键盘
- **智能自动跳转**: 输入完一个数字后自动跳转到下一个输入框，输入完己方RST后自动跳转到对方RST

### 8. 设备和天线
- 设备 (EQUIPMENT): 输入设备型号
- 天线 (ANTENNA): 输入天线类型

### 9. 功率 (PWR)
- 单位：瓦特 (W)
- 自动弹出数字键盘

### 10. 备注 (NOTES)
- 自由文本输入
- 支持多行文本

### 11. 日志管理
- 本地存储所有通联日志
- 日志列表展示，支持查看详情
- 最多保存 1000 条日志
- 下拉刷新功能
- 支持按呼号和日期范围搜索

### 12. 日志导出
- 导出为 CSV 格式
- 支持微信转发功能
- 建议转发给文件传输助手以便保存到电脑
- 导出前需设置个人呼号
- CSV 包含：日期、BJC时间、UTC时间、己方呼号、对方呼号、天气、频率、模式、设备、天线、己方RST、对方RST、功率、位置、备注

### 13. 个人设置
- 设置个人呼号
- 查看通联次数统计
- 清空所有日志
- 联系作者功能

### 14. 彩蛋功能
- 连续点击作者呼号 5 次触发彩蛋
- 随机显示趣味提示信息
- 悬浮提示，3 秒后自动消失

## 项目结构

```
ham/
├── app.js                 # 小程序入口文件
├── app.json               # 小程序配置文件
├── app.wxss               # 全局样式文件
├── sitemap.json           # 站点地图配置
├── project.config.json    # 项目配置文件
├── pages/
│   ├── index/             # 记录页面
│   │   ├── index.wxml     # 页面结构
│   │   ├── index.wxss     # 页面样式
│   │   ├── index.js       # 页面逻辑
│   │   └── index.json     # 页面配置
│   ├── logs/              # 日志列表页面
│   │   ├── logs.wxml      # 页面结构
│   │   ├── logs.wxss      # 页面样式
│   │   ├── logs.js        # 页面逻辑
│   │   └── logs.json      # 页面配置
│   └── mine/              # 我的页面
│       ├── mine.wxml      # 页面结构
│       ├── mine.wxss      # 页面样式
│       ├── mine.js        # 页面逻辑
│       └── mine.json      # 页面配置
└── images/                # 图标资源目录
    └── README.md          # 图标说明
```

## 使用说明

### 开发环境设置

1. 下载并安装微信开发者工具
2. 使用微信开发者工具打开本项目目录
3. 在 project.config.json 中配置你的 appid
4. 添加 TabBar 图标（参考 images/README.md）

### 运行项目

1. 在微信开发者工具中点击"编译"按钮
2. 在模拟器中预览小程序
3. 可以在真机上调试（需要配置 appid）

### 主要功能使用流程

1. **记录通联日志**:
   - 点击底部"通联"标签
   - 日期和时间会自动填充
   - 输入频率（支持联想输入）
   - 输入呼号（支持联想输入）
   - 选择天气（可选）
   - 选择工作模式
   - 填写设备、天线、位置、RST、功率等信息
   - RST 输入支持自动跳转，无需手动切换
   - 点击"保存日志"按钮

2. **查看历史日志**:
   - 点击底部"列表"标签
   - 查看所有通联日志列表
   - 支持按呼号和日期范围搜索
   - 点击任意日志查看详细信息

3. **导出日志**:
   - 点击底部"我的"标签
   - 点击"导出日志"按钮
   - 如未设置个人呼号，会提示先设置
   - 导出成功后可选择转发给文件传输助手
   - CSV 文件可用 Excel 打开

4. **个人设置**:
   - 在"我的"页面设置个人呼号
   - 查看通联次数统计
   - 清空所有日志
   - 联系作者获取支持

## 数据存储

- 呼号历史记录：存储在 `callHistory` key 下
- 频率历史记录：存储在 `frequencyHistory` key 下
- 通联日志：存储在 `contactLogs` key 下
- 个人呼号：存储在 `myCallSign` key 下
- 所有数据使用微信小程序本地存储 API

## 技术特点

- 使用微信小程序原生框架开发
- 响应式设计，适配不同屏幕尺寸
- 优化的用户体验，包括自动填充、联想输入、智能跳转等
- 完整的表单验证
- 本地数据持久化
- 支持 CSV 导出和微信分享
- 彩蛋互动功能

## 注意事项

1. 需要在 project.config.json 中配置正确的 appid
2. 需要添加 TabBar 图标文件（参考 images/README.md）
3. 数据存储在本地，清除缓存会丢失数据
4. 建议定期导出日志数据备份
5. 导出日志前需要先设置个人呼号

## 作者信息

- 作者呼号：BA4IWA
- 公众号：饮月听风
- 欢迎通过公众号联系作者，提出建议和反馈

## 许可证

MIT License
